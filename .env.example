# CloudFest USA 2025 Hackathon Environment Configuration
# Copy this file to .env and customize as needed

# PatchStack API Configuration
# Get your API token from the hackathon documentation
PATCHSTACK_API_TOKEN=aapi_CN2ZAQdQBC72RXBKqpO5BnAscEGuDyBqxrd0icqlO3NkWfENSlkk1sGv4xq9kbBv
PATCHSTACK_API_URL=https://vdp-api.patchstack.com/api/sysadmin/v2/reports/vuln/hackathon

# AspireCloud Configuration
# Note: APP_KEY is configured in docker-compose.yml (generated automatically)
# If you need to generate a new one: docker exec cloudfest-aspirecloud php artisan key:generate --show
ASPIRECLOUD_DB_NAME=aspirecloud
ASPIRECLOUD_DB_USER=postgres
ASPIRECLOUD_DB_PASSWORD=password
ASPIRECLOUD_API_URL=https://api.aspiredev.local

# WordPress Configuration (wp-env)
WP_ADMIN_USER=admin
WP_ADMIN_PASSWORD=password
WP_ADMIN_EMAIL=admin@aspiredev.local

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379

# Mailhog Configuration
SMTP_HOST=mailhog
SMTP_PORT=1025

# Development Settings
APP_ENV=local
APP_DEBUG=true
LOG_LEVEL=debug

# ===================================
# Team Service Configuration
# ===================================

# Port Allocation Strategy
# Core Infrastructure: 8000-8099
# Backend/API Team: 8100-8199
# Frontend/Dashboard Team: 8200-8299
# Policy/Security Team: 8300-8399

# Service Discovery - Internal Docker Network URLs
# Use these URLs when services need to communicate with each other
ASPIRECLOUD_API_URL_INTERNAL=http://aspirecloud:80
REDIS_URL_INTERNAL=redis://redis:6379
POSTGRES_URL_INTERNAL=postgresql://postgres:password@cloudfest-aspirecloud-db:5432/aspirecloud

# Service Discovery - External URLs (from host machine)
# Use these URLs for browser/external access
ASPIRECLOUD_API_URL_EXTERNAL=http://localhost:8099
WORDPRESS_URL_EXTERNAL=http://localhost:8888

# ===================================
# Service-Specific Settings
# ===================================

# Hello World API (Example Service)
# HELLO_WORLD_API_PORT=8100
# HELLO_WORLD_API_URL=http://hello-world-api:80

# Vulnerability Scanner Service (Backend Team)
# VULN_SCANNER_PORT=8100
# VULN_SCANNER_URL=http://vuln-scanner:8100
# VULN_SCANNER_SCAN_INTERVAL=3600  # seconds

# Repository Monitor Service (Backend Team)
# REPO_MONITOR_PORT=8101
# REPO_MONITOR_URL=http://repo-monitor:8101
# REPO_MONITOR_POLL_INTERVAL=300  # seconds

# Policy Engine Service (Policy Team)
# POLICY_ENGINE_PORT=8300
# POLICY_ENGINE_URL=http://policy-engine:8300

# Dashboard UI Service (Frontend Team)
# DASHBOARD_PORT=8200
# DASHBOARD_URL=http://dashboard:8200

# ===================================
# Redis Configuration (for team services)
# ===================================
# Use different Redis databases for different services to avoid key collisions
# DB 0: AspireCloud (default)
# DB 1: Team services cache
# DB 2: Vulnerability scanner
# DB 3: Repository monitor
# DB 4: Policy engine

REDIS_CACHE_DB=1
REDIS_VULN_SCANNER_DB=2
REDIS_REPO_MONITOR_DB=3
REDIS_POLICY_ENGINE_DB=4

# Redis pub/sub channels
REDIS_CHANNEL_PACKAGES=channel:packages
REDIS_CHANNEL_SCANS=channel:scans
REDIS_CHANNEL_POLICIES=channel:policies
REDIS_CHANNEL_EVENTS=channel:events

# ===================================
# Service Communication Settings
# ===================================

# HTTP timeouts (in seconds)
HTTP_TIMEOUT=30
HTTP_CONNECT_TIMEOUT=10

# Retry configuration
HTTP_MAX_RETRIES=3
HTTP_RETRY_DELAY=1

# ===================================
# Feature Flags
# ===================================

# Enable/disable features for development
ENABLE_VULNERABILITY_SCANNING=true
ENABLE_REPOSITORY_MONITORING=true
ENABLE_POLICY_ENFORCEMENT=true
ENABLE_AUTO_LABELING=true
